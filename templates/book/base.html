{% load static %}

<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!--Bootstrap-->
    <script data-ad-client="ca-pub-1976866996688533" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <title>Recommend Book</title>
</head>

<body>
    <header class='site-header'>
        <nav class="navbar navbar-expand navbar-dark" style='background-color:#2d2d2d'>
            <ul class='navbar-nav mr-auto'>
                <li class=nav-item>
                    <a href="{% url 'book:book_list' %}" class='navbar-brand' style="margin-left: 25px;">Recommend
                        Book</a>
                </li>
            </ul>
            <ul class='navbar-nav'>
                <!--ログイン時にはログインしたユーザー名とLogoutを表示する-->
                {% if user.is_authenticated %}
                <li class=nav-item>
                    <span class='navbar-text' style="text-align: right;">{{ user }}</span>
                </li>
                <li>
                    <a href="{% url 'logout' %}" class='logout nav-link'>Logout</a>
                </li>
                <!--ログインしていない時はLoginを表示する-->
                {% else %}
                <li class='nav-item'>
                    <a href="{% url 'login' %}" class='login nav-link'>Login</a>
                </li>

                <li class="nav-item">
                    <a href='{% url "accounts:signup" %}' class='signup nav-link'>Sign up</a>
                </li>
                {% endif %}
            </ul>
        </nav>
    </header>
    <main role='main' class='container-field'>
        <div style="margin-left: 25px; margin-right: 25px; margin-bottom: 15px; padding: 0px;">
        </div>
        {% block content %}{% endblock content %}

    </main>
    <footer id="footer" style="height: 150px; background-color: #2d2d2d;">
        <div style="text-align: center; color: #ffffff; padding-top: 70px;">Recommend Book</div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js"></script>
    <!--twitter-->
    <script>
        window.twttr = (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0],
                t = window.twttr || {};
            if (d.getElementById(id)) return t;
            js = d.createElement(s);
            js.id = id;
            js.src = "https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js, fjs);

            t._e = [];
            t.ready = function (f) {
                t._e.push(f);
            };

            return t;
        }(document, "script", "twitter-wjs"));
    </script>
    <script type="text/javascript">
        amzn_assoc_ad_type = "link_enhancement_widget";
        amzn_assoc_tracking_id = "m2033099-22";
        amzn_assoc_linkid = "89836b116d919bbd9925cbb39b56aef7";
        amzn_assoc_placement = "";
        amzn_assoc_marketplace = "amazon";
        amzn_assoc_region = "JP";
    </script>
    <script
        src="//ws-fe.amazon-adsystem.com/widgets/q?ServiceVersion=20070822&Operation=GetScript&ID=OneJS&WS=1&MarketPlace=JP"></script>
    <script>
        new function () {

            var footerId = "footer";
            //メイン
            function footerFixed() {
                //ドキュメントの高さ
                var dh = document.getElementsByTagName("body")[0].clientHeight;
                //フッターのtopからの位置
                document.getElementById(footerId).style.top = "0px";
                var ft = document.getElementById(footerId).offsetTop;
                //フッターの高さ
                var fh = document.getElementById(footerId).offsetHeight;
                //ウィンドウの高さ
                if (window.innerHeight) {
                    var wh = window.innerHeight;
                } else if (document.documentElement && document.documentElement.clientHeight != 0) {
                    var wh = document.documentElement.clientHeight;
                }
                if (ft + fh < wh) {
                    document.getElementById(footerId).style.position = "relative";
                    document.getElementById(footerId).style.top = (wh - fh - ft - 1) + "px";
                }
            }

            //文字サイズ
            function checkFontSize(func) {

                //判定要素の追加	
                var e = document.createElement("div");
                var s = document.createTextNode("S");
                e.appendChild(s);
                e.style.visibility = "hidden"
                e.style.position = "absolute"
                e.style.top = "0"
                document.body.appendChild(e);
                var defHeight = e.offsetHeight;

                //判定関数
                function checkBoxSize() {
                    if (defHeight != e.offsetHeight) {
                        func();
                        defHeight = e.offsetHeight;
                    }
                }
                setInterval(checkBoxSize, 1000)
            }

            //イベントリスナー
            function addEvent(elm, listener, fn) {
                try {
                    elm.addEventListener(listener, fn, false);
                } catch (e) {
                    elm.attachEvent("on" + listener, fn);
                }
            }

            addEvent(window, "load", footerFixed);
            addEvent(window, "load", function () {
                checkFontSize(footerFixed);
            });
            addEvent(window, "resize", footerFixed);

        }
    </script>
</body>

</html>